Sentiment-Driven Algorithmic Trading System
Backtesting Result (Example of a backtesting performance plot generated by the system)

This repository presents a Sentiment-Driven Algorithmic Trading System designed to generate actionable trading signals by leveraging real-time sentiment analysis from diverse data sources and integrating them with traditional market indicators. The system employs advanced Natural Language Processing (NLP) models, robust data ingestion pipelines, and a comprehensive backtesting framework to evaluate and refine trading strategies.

ğŸŒŸ Features
Our system is built with a modular and extensible architecture, focusing on accuracy, real-time processing, and comprehensive analysis.

1. Multi-Source Data Ingestion
The system continuously gathers and processes data from various real-time sources to capture a holistic market view.

Twitter (X): Analyzes tweets for sentiment related to specific financial symbols. Utilizes the Twitter API for recent tweet searches.
Reddit: Processes posts and comments from popular financial and cryptocurrency subreddits (e.g., r/CryptoCurrency, r/wallstreetbets, r/investing) to gauge community sentiment.
News APIs: Extracts sentiment from financial news articles, providing insights from professional media outlets.
Market Data: Fetches real-time price, volume, and market capitalization data for both cryptocurrencies and stocks using Yahoo Finance.
2. Ensemble Sentiment Analysis
To ensure robust and reliable sentiment scores, the system combines multiple state-of-the-art NLP models.

FinBERT: A Bidirectional Encoder Representations from Transformers (BERT) model specifically fine-tuned for financial sentiment analysis. It provides nuanced positive, negative, and neutral classifications.
VADER (Valence Aware Dictionary and sEntiment Reasoner): A lexicon and rule-based sentiment analysis tool that is particularly well-suited for social media texts.
TextBlob: A simplified API for common NLP tasks, including sentiment analysis, offering a quick and easy way to get polarity and subjectivity scores.
Weighted Aggregation: Sentiment scores from individual models are combined using configurable weights (e.g., FinBERT: 60%, VADER: 30%, TextBlob: 10%) to produce a consolidated sentiment score.
Confidence Scoring: A confidence score is generated for each aggregated sentiment, reflecting the agreement level among the different NLP models. Higher agreement leads to higher confidence.
Time Decay: A configurable time-decay factor is applied to sentiment scores, ensuring that more recent data points have a greater influence on the aggregated sentiment, reflecting the dynamic nature of financial markets.
3. Advanced Signal Generation
Trading signals are generated through a sophisticated process that considers both sentiment and broader market conditions.

Sentiment Momentum: Calculates the momentum of sentiment (e.g., short-term moving average of compound sentiment minus long-term moving average) to identify trends in market mood.
Custom Fear & Greed Index: Computes a proprietary Fear & Greed Index based on several market indicators, providing a macro-level view of market psychology:
Market Momentum: S&P 500 performance relative to its 125-day moving average.
Stock Price Strength: Number of stocks hitting 52-week highs versus lows.
Stock Price Breadth: Advance/decline ratio across broad market ETFs.
Safe Haven Demand: Relative performance of stocks (SPY) versus long-term treasuries (TLT).
Junk Bond Demand: Relative performance of high-yield bonds (HYG) versus treasuries (TLT).
Market Volatility: Analysis of the VIX index.
Configurable Thresholds: Utilizes customizable BUY_THRESHOLD and SELL_THRESHOLD values for sentiment, along with a CONFIDENCE_THRESHOLD to filter out low-conviction signals.
Signal Cooldown: Implements a SIGNAL_COOLDOWN period to prevent the generation of excessive or redundant signals, promoting more stable trading decisions.
Detailed Reasoning: Each generated trading signal comes with a human-readable reasoning string, explaining the factors that contributed to its generation (e.g., "Strong positive sentiment, Positive sentiment momentum, Extreme greed in market").
Basic Risk Management: Signals include calculated stop_loss and take_profit levels based on a percentage of the entry price, providing rudimentary risk management guidelines.
4. Comprehensive Backtesting Framework
The system includes a robust backtesting module to evaluate strategy performance on historical data.

Historical Simulation: Simulates the trading strategy on historical price data, augmented with synthetically generated sentiment data for realistic testing.
Key Performance Metrics: Calculates a wide array of performance indicators:
Total Return: Overall percentage gain or loss.
Annualized Return: Annualized rate of return.
Max Drawdown: The largest peak-to-trough decline in portfolio value.
Sharpe Ratio: Risk-adjusted return, measuring return per unit of total risk.
Sortino Ratio: Risk-adjusted return, measuring return per unit of downside risk.
Buy & Hold Return: Performance of a simple buy-and-hold strategy for comparison.
Visualizations: Generates informative equity curve plots, clearly showing the strategy's portfolio value over time, overlaid with buy and sell signal points and the underlying asset's price.
Detailed Trade Logs: Outputs a CSV file (backtesting_results.csv) containing a detailed log of portfolio holdings, cash, total value, and trading signals for every day of the backtest.
ğŸš€ Getting Started
Follow these steps to set up and run the Sentiment-Driven Algorithmic Trading System.

Prerequisites
Python 3.8+
Access to the internet for data fetching
Installation
Clone the repository:

bash

Run
Copy code
git clone https://github.com/your-username/sentiment-driven-trading-system.git
cd sentiment-driven-trading-system
Create a virtual environment (highly recommended):

bash

Run
Copy code
python -m venv venv
# On macOS/Linux:
source venv/bin/activate
# On Windows:
.\venv\Scripts\activate
Install dependencies:

bash

Run
Copy code
pip install -r MultipleFiles/requirements.txt
Set up API Keys: The system requires API keys for Twitter (X), Reddit, and NewsAPI.

Create a file named .env in the MultipleFiles/ directory.
Populate the .env file with your API credentials. Do NOT commit this file to version control.
Example .env content:

Run
Copy code
TWITTER_BEARER_TOKEN="YOUR_TWITTER_BEARER_TOKEN"
REDDIT_CLIENT_ID="YOUR_REDDIT_CLIENT_ID"
REDDIT_SECRET="YOUR_REDDIT_SECRET"
REDDIT_USER_AGENT="YOUR_REDDIT_USER_AGENT"
NEWS_API_KEY="YOUR_NEWS_API_KEY"
Note: If you prefer not to use a .env file, you can directly hardcode these values in MultipleFiles/config/settings.py within the APIConfig class. However, this is generally discouraged for security reasons.
ğŸ› ï¸ Usage
1. Running the Real-time System
To start the real-time sentiment analysis and signal generation engine:

bash

Run
Copy code
python MultipleFiles/app.py
Upon execution, the system will:

Initialize data ingestion from all configured sources.
Continuously process incoming data, analyze sentiment, and aggregate scores.
Generate trading signals based on sentiment, momentum, and the Fear & Greed Index.
Print generated signals and system status updates to the console.
Log detailed information to sentiment_trading.log in the root directory.
The system is designed to run continuously. You can stop it gracefully by pressing Ctrl+C.

2. Running a Historical Backtest
To evaluate the strategy's performance on historical data:

bash

Run
Copy code
python MultipleFiles/run_backtest.py
Configuration: You can customize the backtest parameters by modifying the CONFIG dictionary within MultipleFiles/run_backtest.py:

python
7 lines
Click to expand
CONFIG = {
"ticker": 'BTC-USD', # Asset to backtest (e.g., 'BTC-USD', 'AAPL')
...
Output:

Performance Metrics: Key performance indicators will be printed to the console.
Detailed Trade Activity: A log of all executed trades (buy/sell signals) will be displayed.
Final Portfolio State: The portfolio's state for the last few days of the backtest will be shown.
CSV Results: Full backtesting results (holdings, cash, total value per day) will be saved to /content/sentiment_trading_system/backtesting/backtesting_results.csv.
Performance Plot: A visual representation of the strategy's equity curve, buy/sell signals, and asset price will be saved as /content/sentiment_trading_system/backtesting/backtesting_result.png.
3. Testing Individual Components
Each major component of the system (NLP analyzers, signal generators) includes a test_ function within its respective file. You can run these scripts directly to verify their functionality and see example outputs:

bash

Run
Copy code
# Test FinBERT sentiment analyzer
python MultipleFiles/nlp/finbert_analyzer.py

# Test ensemble sentiment processor
python MultipleFiles/nlp/sentiment_processor.py

# Test Fear & Greed Index calculation
python MultipleFiles/signals/fear_greed_index.py

# Test trading signal generator
python MultipleFiles/signals/signal_engine.py
âš™ï¸ Configuration
All major configuration parameters for the system are centralized in MultipleFiles/config/settings.py. This file allows you to fine-tune various aspects of the system without modifying core logic.

python
37 lines
Click to expand
# MultipleFiles/config/settings.py
...
ğŸ“‚ Project Structure
The project is organized into logical directories for clarity and maintainability.


Run
Copy code
sentiment-driven-trading-system/
â”œâ”€â”€ MultipleFiles/
â”‚   â”œâ”€â”€ app.py                              # Main application entry point for real-time system
â”‚   â”œâ”€â”€ run_backtest.py                     # Script to execute historical backtests
â”‚   â”œâ”€â”€ requirements.txt                    # Python package dependencies
â”‚   â”œâ”€â”€ .env                                # Environment variables (API keys - NOT committed to Git)
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ settings.py                     # Centralized configuration settings for the entire system
â”‚   â”‚
â”‚   â”œâ”€â”€ data_sources/
â”‚   â”‚   â”œâ”€â”€ data_ingestion.py               # Orchestrates data collection from all sources into a unified queue
â”‚   â”‚   â”œâ”€â”€ market_source.py                # Fetches real-time market data (prices, volumes) via Yahoo Finance
â”‚   â”‚   â”œâ”€â”€ news_source.py                  # Collects financial news articles from NewsAPI
â”‚   â”‚   â”œâ”€â”€ reddit_source.py                # Gathers financial discussions from Reddit subreddits
â”‚   â”‚   â””â”€â”€ twitter_source.py               # Streams/searches tweets for sentiment analysis
â”‚   â”‚
â”‚   â”œâ”€â”€ nlp/
â”‚   â”‚   â”œâ”€â”€ finbert_analyzer.py             # Implements FinBERT for financial text sentiment analysis
â”‚   â”‚   â””â”€â”€ sentiment_processor.py          # Combines FinBERT, VADER, and TextBlob for ensemble sentiment scoring
â”‚   â”‚
â”‚   â”œâ”€â”€ signals/
â”‚   â”‚   â”œâ”€â”€ fear_greed_index.py             # Calculates a custom Fear & Greed Index based on market indicators
â”‚   â”‚   â””â”€â”€ signal_engine.py                # Generates trading signals using sentiment, momentum, and F&G Index
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ data_structures.py              # Defines core data models (DataPoint, SentimentScore, TradingSignal, MarketData)
â”‚   â”‚
â”‚   â”œâ”€â”€ backtesting/
â”‚   â”‚   â”œâ”€â”€ backtester.py                   # Contains the core backtesting simulation logic
â”‚   â”‚   â”œâ”€â”€ data_preparation.py             # Handles historical data fetching and synthetic sentiment generation for backtests
â”‚   â”‚   â””â”€â”€ performance_metrics.py          # Calculates various performance statistics for backtest results
â”‚   â”‚
â”‚   â”œâ”€â”€ backtesting_results.csv             # CSV output file for detailed backtest results
â”‚   â”œâ”€â”€ backtesting_result.png              # PNG output file for the backtest performance plot
â”‚   â””â”€â”€ ... (other compiled Python files like .pyc)
â”‚
â””â”€â”€ README.md                               # This README file
ğŸ¤ Contributing
We welcome contributions to enhance this sentiment-driven trading system! If you have suggestions, bug reports, or want to contribute code, please feel free to:

Fork the repository.
Create a new branch for your feature or bug fix.
Make your changes and ensure tests pass (if applicable).
Submit a pull request with a clear description of your changes.
âš ï¸ Disclaimer
This project is developed for educational and research purposes only. It demonstrates the application of sentiment analysis and market indicators in generating trading signals.

Not Financial Advice: This system is not intended to provide financial advice. Any trading decisions made based on the outputs of this system are at your own risk.
No Guarantees: There are no guarantees of profit or freedom from loss. Algorithmic trading carries significant risks, and past performance (especially with synthetic data) is not indicative of future results.
Real-Money Trading: This system is not designed for direct real-money trading without substantial modifications, rigorous testing, and adherence to regulatory requirements. Always consult with a qualified financial professional before making any investment decisions.
