# Sentiment-Driven Algorithmic Trading System

A sophisticated trading system that leverages real-time multi-source sentiment analysis and market indicators to generate actionable trading signals.

![Backtesting Performance](assets/backtesting_result.png)
*(Example of a backtesting performance plot generated by the system)*

This repository presents a Sentiment-Driven Algorithmic Trading System designed to generate actionable trading signals by leveraging real-time sentiment analysis from diverse data sources and integrating them with traditional market indicators. The system employs advanced Natural Language Processing (NLP) models, robust data ingestion pipelines, and a comprehensive backtesting framework to evaluate and refine trading strategies.

---

## üåü Features

Our system is built with a modular and extensible architecture, focusing on accuracy, real-time processing, and comprehensive analysis.

#### 1. Multi-Source Data Ingestion
The system continuously gathers and processes data from various real-time sources to capture a holistic market view.
- **Twitter (X):** Analyzes tweets for sentiment related to specific financial symbols using the Twitter API.
- **Reddit:** Processes posts and comments from popular financial subreddits (e.g., `r/CryptoCurrency`, `r/wallstreetbets`) to gauge community sentiment.
- **News APIs:** Extracts sentiment from financial news articles, providing insights from professional media outlets.
- **Market Data:** Fetches real-time price, volume, and market capitalization data for both cryptocurrencies and stocks via Yahoo Finance.

#### 2. Ensemble Sentiment Analysis
To ensure robust and reliable sentiment scores, the system combines multiple state-of-the-art NLP models.
- **FinBERT:** A BERT model fine-tuned for financial text, providing nuanced positive, negative, and neutral classifications.
- **VADER:** A lexicon and rule-based tool optimized for social media text sentiment.
- **TextBlob:** A simplified NLP library for quick polarity and subjectivity scoring.
- **Weighted Aggregation:** Sentiment scores are combined using configurable weights (e.g., FinBERT: 60%, VADER: 30%, TextBlob: 10%) to produce a consolidated sentiment score.
- **Confidence Scoring:** Generates a confidence score based on the agreement level among the different NLP models.
- **Time Decay:** Applies a configurable time-decay factor, giving more weight to recent data to reflect dynamic market conditions.

#### 3. Advanced Signal Generation
Trading signals are generated through a sophisticated process that considers both sentiment and broader market conditions.
- **Sentiment Momentum:** Identifies trends in market mood by calculating short-term vs. long-term moving averages of sentiment.
- **Custom Fear & Greed Index:** Computes a proprietary index based on six key market indicators (Market Momentum, Stock Strength, Volatility, etc.) for a macro-level view of market psychology.
- **Configurable Thresholds:** Uses customizable thresholds for sentiment scores and confidence levels to filter out low-conviction signals.
- **Signal Cooldown:** Implements a cooldown period to prevent excessive or redundant signals.
- **Detailed Reasoning:** Each signal includes a human-readable explanation of the factors that triggered it (e.g., "Strong positive sentiment, Positive sentiment momentum, Extreme greed in market").
- **Basic Risk Management:** Signals include calculated stop-loss and take-profit levels based on a percentage of the entry price.

#### 4. Comprehensive Backtesting Framework
The system includes a robust backtesting module to evaluate strategy performance on historical data.
- **Historical Simulation:** Simulates the trading strategy on historical price data, augmented with synthetically generated sentiment data.
- **Key Performance Metrics:** Calculates a wide array of indicators, including Total Return, Max Drawdown, Sharpe Ratio, and Sortino Ratio.
- **Visualizations:** Generates an informative equity curve plot showing portfolio value, buy/sell signals, and the underlying asset's price over time.
- **Detailed Trade Logs:** Outputs a CSV file with a detailed daily log of portfolio value, holdings, cash, and signals.

---

## üöÄ Getting Started

Follow these steps to set up and run the system.

### Prerequisites
- Python 3.8+
- Internet connection for data fetching

### Installation
**1. Clone the repository:**
```bash
git clone https://github.com/your-username/sentiment-driven-trading-system.git
cd sentiment-driven-trading-system
2. Create and activate a virtual environment:
code
Bash
python -m venv venv
# On macOS/Linux:
source venv/bin/activate
# On Windows:
.\venv\Scripts\activate
3. Install dependencies:
code
Bash
pip install -r sentiment_trading_system/requirements.txt
4. Set up API Keys:
The system requires API keys for Twitter (X), Reddit, and NewsAPI.
Create a file named .env in the sentiment_trading_system/ directory.
Populate it with your API credentials. Do not commit this file to version control.
Example .env content:
code
Code
TWITTER_BEARER_TOKEN="YOUR_TWITTER_BEARER_TOKEN"
REDDIT_CLIENT_ID="YOUR_REDDIT_CLIENT_ID"
REDDIT_SECRET="YOUR_REDDIT_SECRET"
REDDIT_USER_AGENT="YOUR_REDDIT_USER_AGENT"
NEWS_API_KEY="YOUR_NEWS_API_KEY"
Note: The repository includes default keys in config/settings.py for testing, but you should replace them with your own for reliable use.
üõ†Ô∏è Usage
1. Running the Real-time System
To start the real-time sentiment analysis and signal generation engine, run:
code
Bash
python sentiment_trading_system/app.py
The system will:
Initialize data ingestion from all sources.
Continuously analyze sentiment and generate trading signals.
Print generated signals and status updates to the console.
Log detailed information to sentiment_trading.log.
Press Ctrl+C to stop the system gracefully.
2. Running a Historical Backtest
To evaluate the strategy's performance on historical data, run:
code
Bash
python sentiment_trading_system/run_backtest.py
You can customize the backtest parameters by modifying the CONFIG dictionary within sentiment_trading_system/run_backtest.py:
code
Python
CONFIG = {
    "ticker": 'BTC-USD',           # Asset to backtest (e.g., 'BTC-USD', 'AAPL')
    "start_date": '2023-01-01',    # Backtest start date
    "end_date": '2023-12-31',      # Backtest end date
    "initial_capital": 10000.0,    # Starting portfolio value
    "trade_size_percent": 0.10,    # Percentage of capital to use per trade
    "synthetic_sentiment_volatility": 0.2 # Volatility for generated sentiment
}
Output:
Performance Metrics: Key metrics will be printed to the console.
Trade Log: A log of all executed trades will be displayed.
CSV Results: Full daily results will be saved to sentiment_trading_system/backtesting/backtesting_results.csv.
Performance Plot: The equity curve plot will be saved as sentiment_trading_system/backtesting/backtesting_result.png.
3. Testing Individual Components
Each major component includes a test function. Run these scripts directly to verify their functionality:
code
Bash
# Test FinBERT sentiment analyzer
python sentiment_trading_system/nlp/finbert_analyzer.py

# Test ensemble sentiment processor
python sentiment_trading_system/nlp/sentiment_processor.py

# Test Fear & Greed Index calculation
python sentiment_trading_system/signals/fear_greed_index.py

# Test trading signal generator
python sentiment_trading_system/signals/signal_engine.py
‚öôÔ∏è Configuration
All major parameters are centralized in sentiment_trading_system/config/settings.py, allowing you to fine-tune the system without modifying core logic.
code
Python
# sentiment_trading_system/config/settings.py

class APIConfig:
    # API keys and secrets
    ...

class TradingConfig:
    BUY_THRESHOLD: float = 0.7
    SELL_THRESHOLD: float = -0.7
    CONFIDENCE_THRESHOLD: float = 0.6
    ...

class NLPConfig:
    FINBERT_WEIGHT: float = 0.6
    VADER_WEIGHT: float = 0.3
    TEXTBLOB_WEIGHT: float = 0.1
    ...
üìÇ Project Structure
The project is organized into logical directories for clarity and maintainability.
code
Code
sentiment-driven-trading-system/
‚îú‚îÄ‚îÄ sentiment_trading_system/
‚îÇ   ‚îú‚îÄ‚îÄ app.py                      # Main entry point for real-time system
‚îÇ   ‚îú‚îÄ‚îÄ run_backtest.py             # Script to execute historical backtests
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt            # Python dependencies
‚îÇ   ‚îú‚îÄ‚îÄ .env.example                # Example environment file for API keys
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings.py             # Centralized configuration for the entire system
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ data_sources/               # Modules for ingesting data from various APIs
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ nlp/                        # NLP models and sentiment aggregation logic
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ signals/                    # Logic for generating trading signals
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data_structures.py      # Core data models (DataPoint, TradingSignal, etc.)
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ backtesting/                # Modules for historical backtesting and analysis
‚îÇ
‚îî‚îÄ‚îÄ README.md                       # This README file
ü§ù Contributing
Contributions are welcome! If you have suggestions, bug reports, or want to add features, please feel free to:
Fork the repository.
Create a new branch for your feature (git checkout -b feature/AmazingFeature).
Make your changes and commit them (git commit -m 'Add some AmazingFeature').
Push to the branch (git push origin feature/AmazingFeature).
Open a Pull Request.
‚ö†Ô∏è Disclaimer
This project is for educational and research purposes only.
Not Financial Advice: The information and signals generated by this system do not constitute financial advice. All trading decisions are at your own risk.
No Guarantees: Algorithmic trading involves significant risk. Past performance is not indicative of future results, and there is no guarantee of profit.
For Simulation Only: This system is not intended for live trading with real money without substantial modifications and rigorous testing. Always consult a qualified financial professional before making investment decisions.
code
Code
